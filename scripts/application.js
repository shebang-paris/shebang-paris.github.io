const t="http://www.w3.org/2000/svg";class e{constructor(e){this.element=document.createElementNS(t,"mask"),this.element.setAttribute("id",e);const i=document.createElementNS(t,"circle");i.setAttribute("id",`${e}OuterCircle`),i.setAttribute("cx",0),i.setAttribute("cy",0),i.setAttribute("r",0),i.setAttribute("fill","white");const r=document.createElementNS(t,"circle");let n,s;r.setAttribute("id",`${e}InnerCircle`),r.setAttribute("cx",0),r.setAttribute("cy",0),r.setAttribute("r",0),r.setAttribute("fill","black"),this.element.appendChild(i),this.element.appendChild(r),Object.defineProperty(this,"radius",{enumerable:!0,get:()=>1+Math.sqrt((this.width/2)**2+(this.height/2)**2)}),Object.defineProperty(this,"outerRadius",{enumerable:!0,get:()=>n,set:t=>{n=t,i.setAttribute("r",n*this.radius)}}),Object.defineProperty(this,"innerRadius",{enumerable:!0,get:()=>s,set:t=>{s=t,r.setAttribute("r",s*this.radius)}}),Object.defineProperty(this,"width",{enumerable:!0,get:()=>2*parseInt(i.getAttribute("cx"),10),set:t=>{const e=this.innerRadius,n=this.outerRadius;i.setAttribute("cx",t/2),r.setAttribute("cx",t/2),this.innerRadius=e||0,this.outerRadius=n||0}}),Object.defineProperty(this,"height",{enumerable:!0,get:()=>2*parseInt(i.getAttribute("cy"),10),set:t=>{const e=this.innerRadius,n=this.outerRadius;i.setAttribute("cy",t/2),r.setAttribute("cy",t/2),this.innerRadius=e||0,this.outerRadius=n||0}})}}let i=0;class r{constructor(){i+=1;const r=`mask${i}`;this.element=document.createElementNS(t,"svg"),this.element.setAttribute("id",r),this.element.classList.add("mask");const n=document.createElementNS(t,"defs");this.mask=new e(`${r}Mask`),n.appendChild(this.mask.element),this.element.appendChild(n);const s=document.createElementNS(t,"filter");s.setAttribute("id",`${r}Blur`);const a=document.createElementNS(t,"feGaussianBlur");s.appendChild(a),n.appendChild(s);const o=document.createElementNS(t,"linearGradient");o.setAttribute("id",`${r}Gradient`),o.setAttribute("x1",0),o.setAttribute("x2",0),o.setAttribute("y1",0),o.setAttribute("y2",1);let c=document.createElementNS(t,"stop");c.setAttribute("offset","0%"),o.appendChild(c),c=document.createElementNS(t,"stop"),c.setAttribute("offset","100%"),o.appendChild(c),n.appendChild(o);const u=document.createElementNS(t,"g");u.setAttribute("width","100%"),u.setAttribute("height","100%"),u.setAttribute("mask",`url(#${r}Mask)`),this.element.appendChild(u);const l=document.createElementNS(t,"rect");l.classList.add("background"),l.setAttribute("width","100%"),l.setAttribute("height","100%"),l.setAttribute("fill",`url(#${r}Gradient)`),u.appendChild(l);const d=document.createElementNS(t,"text");d.setAttribute("dominant-baseline","hanging"),d.setAttribute("alignment-baseline","hanging"),d.setAttribute("filter",`url(#${r}Blur)`),d.setAttribute("mask",`url(#${r}Mask)`),u.appendChild(d);const m=document.createElementNS(t,"circle");m.setAttribute("id",`${r}LoaderCircle`),m.setAttribute("class","loader"),m.setAttribute("cx",0),m.setAttribute("cy",0),m.setAttribute("r",20),m.setAttribute("stroke-linecap","round"),m.setAttribute("stroke-dasharray",2*Math.PI*parseInt(m.getAttribute("r"),10)),m.setAttribute("stroke-dashoffset",m.getAttribute("stroke-dasharray")),m.setAttribute("stroke-width",8),m.setAttribute("stroke","black"),m.setAttribute("fill","transparent"),m.setAttribute("mask",`url(#${r}Mask)`),this.element.appendChild(m),Object.defineProperty(this,"outerRadius",{enumerable:!0,get:()=>this.mask.outerRadius,set:t=>{this.mask.outerRadius=t}}),Object.defineProperty(this,"innerRadius",{enumerable:!0,get:()=>this.mask.innerRadius,set:t=>{this.mask.innerRadius=t}}),Object.defineProperty(this,"x",{enumerable:!0,get:()=>d.getAttribute("x"),set:t=>d.setAttribute("x",t)}),Object.defineProperty(this,"y",{enumerable:!0,get:()=>d.getAttribute("y"),set:t=>d.setAttribute("y",t)}),Object.defineProperty(this,"blur",{enumerable:!0,get:()=>a.getAttribute("stdDeviation"),set:t=>a.setAttribute("stdDeviation",t)}),Object.defineProperty(this,"width",{enumerable:!0,get:()=>this.element.getAttribute("width"),set:t=>{this.element.setAttribute("width",Math.floor(t)),this.mask.width=Math.floor(t),m.setAttribute("cx",Math.floor(t/2)),m.setAttribute("transform",`rotate(-90, ${m.getAttribute("cx")}, ${m.getAttribute("cy")})`)}}),Object.defineProperty(this,"height",{enumerable:!0,get:()=>this.element.getAttribute("height"),set:t=>{this.element.setAttribute("height",Math.floor(t)),this.mask.height=Math.floor(t),m.setAttribute("cy",Math.floor(t/2)),m.setAttribute("transform",`rotate(-90, ${m.getAttribute("cx")}, ${m.getAttribute("cy")})`)}}),Object.defineProperty(this,"text",{enumerable:!0,get:()=>d.textContent,set:t=>{d.textContent=t}});let h,b=0;Object.defineProperty(this,"loader",{enumerable:!0,get:()=>b,set:t=>{b=t,m.setAttribute("stroke-opacity",b),m.setAttribute("stroke-dashoffset",parseFloat(m.getAttribute("stroke-dasharray"))*(1-b))}}),Object.defineProperty(this,"className",{enumerable:!0,get:()=>h,set:t=>{this.element.classList.remove(h),h=t,this.element.classList.add(h)}})}}const n=/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?$/,s=(t,e,i,r,n,s,a,o)=>{const c=n-r;let u,l;const d={};d[e]=r,Object.assign(t,d);const m=function n(a){l=a-u;const d={};d[e]=i(l,r,c,s),Object.assign(t,d),l<s?requestAnimationFrame(n.bind(this)):(d[e]=r+c,Object.assign(t,d),o&&o.call())},h=function t(e){l=e-u,l<(a||0)?requestAnimationFrame(t.bind(this)):(u=e,requestAnimationFrame(m.bind(this)))};requestAnimationFrame((t=>{u=t,h.call(window,t)}))};if(s.easingInOut=(t,e,i,r)=>{let n=t/(r/2);return n<1?i/2*n*n+e:(n-=1,-i/2*(n*(n-2)-1)+e)},"serviceWorker"in navigator){const t=(()=>(new Error).stack.split("\n").slice(1).map((t=>t.match(n))).map((t=>Object.assign({},{name:t[1],fileName:t[2],lineNumber:t[3],columnNumber:t[4]}))).slice(1))()[0].fileName;navigator.serviceWorker.register(t.replace(/[^/]+\.js$/,"sw.js")).then((()=>{}))}!function(t,e,i,r,n,s,a){t.GoogleAnalyticsObject=n,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,s=e.createElement(i),a=e.getElementsByTagName(i)[0],s.async=1,s.src="https://www.google-analytics.com/analytics.js",a.parentNode.insertBefore(s,a)}(window,document,"script",0,"ga"),ga("create","UA-101946239-1","auto");const a={},o=document.querySelector('[rel="home"]').getAttribute("href"),c=document.querySelector('[rel="canonical"]').getAttribute("href").replace(o,"/"),u=document.URL.replace(new RegExp(`${c}$`,"i"),"/");let l,d,m,h,b;const A=()=>{const t=document.querySelector("h1").getBoundingClientRect();d=window.innerWidth,m=window.innerHeight,h=t.top,b=t.left},g=(t,e,i)=>{l||(l=new r,l.blur=3,l.innerRadius=0,l.outerRadius=1,l.width=d,l.height=m,l.x=h,l.y=b,l.text=e,i||(l.className=t),document.body.appendChild(l.element))},p=function(t,e,i){e&&A();const r=a[t],n=document.querySelector(".container"),o=document.querySelector("main");if(!e){document.querySelector("h1").innerHTML=r.title,n.setAttribute("id",r.id),document.querySelector('[rel="canonical"]').setAttribute("href",r.canonical),o.innerHTML=r.content}(e||i)&&Array.prototype.slice.call(o.querySelectorAll('[rel="noopener"]')).forEach((t=>{t.addEventListener("click",(e=>{e.preventDefault(),ga("send","event","outbound","click",t.href,{transport:"beacon",hitCallback:()=>{document.location=t.href}})}))})),document.title=r.documentTitle;const c=document.createElement("div");document.querySelector("main").appendChild(c),g(r.id,"",e),n.classList.add(r.id),e&&window.history.replaceState(r,r.documentTitle,`${u}${t.substring(1)}`),i&&window.history.pushState(r,r.documentTitle,`${u}${t.substring(1)}`),ga("send","pageview",document.location.pathname),s(l.mask,"innerRadius",s.easingInOut,0,1,500,0,(()=>{(()=>{l.element.parentNode.removeChild(l.element),l=null})()}))},f=function(t,e,i){g(t,e),l.loader=0,s(l.mask,"innerRadius",s.easingInOut,1,0,500,0,(()=>{const t=document.querySelector(".container");t.classList.remove(t.getAttribute("id")),t.removeAttribute("id"),i&&i.call(this)}))},y=function(t,e){const i=t.querySelector('[rel="canonical"]').getAttribute("href"),r=i.replace(o,"/"),n=t.querySelector("main"),s={id:t.querySelector(".container").getAttribute("id"),title:t.querySelector("h1").innerHTML,documentTitle:t.querySelector("title").textContent,content:n.innerHTML,canonical:i,url:r};a[r]=s,p(r,t===document,e)};y(document),window.addEventListener("DOMContentLoaded",(()=>{window.addEventListener("resize",A),A()}));window.addEventListener("popstate",(t=>{const e=a[t.state.url];f(e.id,e.title,(()=>{p(e.url)}))}));Array.prototype.slice.call(document.querySelector("nav ol").querySelectorAll("a")).forEach((t=>{t.addEventListener("click",(e=>{e.preventDefault(),document.getElementById("toggle").checked=!1,window.scrollTo(0,0),t.href!==document.URL&&f(t.getAttribute("data-id"),t.title,(()=>{const e=t.href.replace(o,"/");a[e]?p(e,!1,!0):s(l,"loader",s.easingInOut,0,1,500,0,(()=>{const e=new XMLHttpRequest;e.addEventListener("readystatechange",(()=>{if(4===e.readyState&&200===e.status){const t=document.implementation.createHTMLDocument("");t.documentElement.innerHTML=e.responseText,y(t,!0)}})),e.open("GET",t.href),e.send()}))}))}))}));
